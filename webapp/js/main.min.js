function InfoBox(t){t=t||{},google.maps.OverlayView.apply(this,arguments),this.content_=t.content||"",this.disableAutoPan_=t.disableAutoPan||!1,this.maxWidth_=t.maxWidth||0,this.pixelOffset_=t.pixelOffset||new google.maps.Size(0,0),this.position_=t.position||new google.maps.LatLng(0,0),this.zIndex_=t.zIndex||null,this.boxClass_=t.boxClass||"infoBox",this.boxStyle_=t.boxStyle||{},this.closeBoxMargin_=t.closeBoxMargin||"5px",this.closeBoxURL_=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=t.infoBoxClearance||new google.maps.Size(1,1),this.isHidden_=t.isHidden||!1,this.alignBottom_=t.alignBottom||!1,this.pane_=t.pane||"floatPane",this.enableEventPropagation_=t.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.eventListener1_=null,this.eventListener2_=null,this.eventListener3_=null,this.moveListener_=null,this.contextListener_=null,this.fixedWidthSet_=null,this.visible=!1}!function(t,e,n){function i(n){var i=e.console;a[n]||(a[n]=!0,t.migrateWarnings.push(n),i&&i.warn&&!t.migrateMute&&(i.warn("JQMIGRATE: "+n),t.migrateTrace&&i.trace&&i.trace()))}function o(e,n,o,a){if(Object.defineProperty)try{return void Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){return i(a),o},set:function(t){i(a),o=t}})}catch(s){}t._definePropertyBroken=!0,e[n]=o}var a={};t.migrateWarnings=[],t.migrateMute=!0,!t.migrateMute&&e.console&&e.console.log&&e.console.log("JQMIGRATE: Logging is active"),t.migrateTrace===n&&(t.migrateTrace=!0),t.migrateReset=function(){a={},t.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var s=t("<input/>",{size:1}).attr("size")&&t.attrFn,r=t.attr,l=t.attrHooks.value&&t.attrHooks.value.get||function(){return null},d=t.attrHooks.value&&t.attrHooks.value.set||function(){return n},c=/^(?:input|button)$/i,u=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;o(t,"attrFn",s||{},"jQuery.attrFn is deprecated"),t.attr=function(e,o,a,l){var d=o.toLowerCase(),f=e&&e.nodeType;return l&&(r.length<4&&i("jQuery.fn.attr( props, pass ) is deprecated"),e&&!u.test(f)&&(s?o in s:t.isFunction(t.fn[o])))?t(e)[o](a):("type"===o&&a!==n&&c.test(e.nodeName)&&e.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!t.attrHooks[d]&&h.test(d)&&(t.attrHooks[d]={get:function(e,i){var o,a=t.prop(e,i);return a===!0||"boolean"!=typeof a&&(o=e.getAttributeNode(i))&&o.nodeValue!==!1?i.toLowerCase():n},set:function(e,n,i){var o;return n===!1?t.removeAttr(e,i):(o=t.propFix[i]||i,o in e&&(e[o]=!0),e.setAttribute(i,i.toLowerCase())),i}},p.test(d)&&i("jQuery.fn.attr('"+d+"') may use property instead of attribute")),r.call(t,e,o,a))},t.attrHooks.value={get:function(t,e){var n=(t.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),e in t?t.value:null)},set:function(t,e){var n=(t.nodeName||"").toLowerCase();return"button"===n?d.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value', val) no longer sets properties"),void(t.value=e))}};var f,m,g=t.fn.init,y=t.parseJSON,v=/^([^<]*)(<[\w\W]+>)([^>]*)$/;t.fn.init=function(e,n,o){var a;return e&&"string"==typeof e&&!t.isPlainObject(n)&&(a=v.exec(t.trim(e)))&&a[0]&&("<"!==e.charAt(0)&&i("$(html) HTML strings must start with '<' character"),a[3]&&i("$(html) HTML text after last tag is ignored"),"#"===a[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),t.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),t.parseHTML)?g.call(this,t.parseHTML(a[2],n,!0),n,o):g.apply(this,arguments)},t.fn.init.prototype=t.fn,t.parseJSON=function(t){return t||null===t?y.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},t.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t.browser||(f=t.uaMatch(navigator.userAgent),m={},f.browser&&(m[f.browser]=!0,m.version=f.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),t.browser=m),o(t,"browser",t.browser,"jQuery.browser is deprecated"),t.sub=function(){function e(t,n){return new e.fn.init(t,n)}t.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function o(i,a){return a&&a instanceof t&&!(a instanceof e)&&(a=e(a)),t.fn.init.call(this,i,a,n)},e.fn.init.prototype=e.fn;var n=e(document);return i("jQuery.sub() is deprecated"),e},t.ajaxSetup({converters:{"text json":t.parseJSON}});var b=t.fn.data;t.fn.data=function(e){var o,a,s=this[0];return!s||"events"!==e||1!==arguments.length||(o=t.data(s,e),a=t._data(s,e),o!==n&&o!==a||a===n)?b.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),a)};var w=/\/(java|ecma)script/i,D=t.fn.andSelf||t.fn.addBack;t.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),D.apply(this,arguments)},t.clean||(t.clean=function(e,n,o,a){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,i("jQuery.clean() is deprecated");var s,r,l,d,c=[];if(t.merge(c,t.buildFragment(e,n).childNodes),o)for(l=function(t){return!t.type||w.test(t.type)?a?a.push(t.parentNode?t.parentNode.removeChild(t):t):o.appendChild(t):void 0},s=0;null!=(r=c[s]);s++)t.nodeName(r,"script")&&l(r)||(o.appendChild(r),"undefined"!=typeof r.getElementsByTagName&&(d=t.grep(t.merge([],r.getElementsByTagName("script")),l),c.splice.apply(c,[s+1,0].concat(d)),s+=d.length));return c});var x=t.event.add,_=t.event.remove,M=t.event.trigger,C=t.fn.toggle,T=t.fn.live,k=t.fn.die,E="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",S=new RegExp("\\b(?:"+E+")\\b"),I=/(?:^|\s)hover(\.\S+|)\b/,L=function(e){return"string"!=typeof e||t.event.special.hover?e:(I.test(e)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),e&&e.replace(I,"mouseenter$1 mouseleave$1"))};t.event.props&&"attrChange"!==t.event.props[0]&&t.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),t.event.dispatch&&o(t.event,"handle",t.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),t.event.add=function(t,e,n,o,a){t!==document&&S.test(e)&&i("AJAX events should be attached to document: "+e),x.call(this,t,L(e||""),n,o,a)},t.event.remove=function(t,e,n,i,o){_.call(this,t,L(e)||"",n,i,o)},t.fn.error=function(){var t=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),t.splice(0,0,"error"),arguments.length?this.bind.apply(this,t):(this.triggerHandler.apply(this,t),this)},t.fn.toggle=function(e,n){if(!t.isFunction(e)||!t.isFunction(n))return C.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var o=arguments,a=e.guid||t.guid++,s=0,r=function(n){var i=(t._data(this,"lastToggle"+e.guid)||0)%s;return t._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),o[i].apply(this,arguments)||!1};for(r.guid=a;s<o.length;)o[s++].guid=a;return this.click(r)},t.fn.live=function(e,n,o){return i("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(t(this.context).on(e,this.selector,n,o),this)},t.fn.die=function(e,n){return i("jQuery.fn.die() is deprecated"),k?k.apply(this,arguments):(t(this.context).off(e,this.selector||"**",n),this)},t.event.trigger=function(t,e,n,o){return n||S.test(t)||i("Global events are undocumented and deprecated"),M.call(this,t,e,n||document,o)},t.each(E.split("|"),function(e,n){t.event.special[n]={setup:function(){var e=this;return e!==document&&(t.event.add(document,n+"."+t.guid,function(){t.event.trigger(n,null,e,!0)}),t._data(this,n,t.guid++)),!1},teardown:function(){return this!==document&&t.event.remove(document,n+"."+t._data(this,n)),!1}}})}(jQuery,window),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){a.trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t(o);e&&e.preventDefault(),a.length||(a=i.hasClass("alert")?i:i.parent()),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(window.jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",o.resetText||n.data("resetText",n[i]()),n[i](o[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===e.prop("type")&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),o=i.data("bs.button"),a="object"==typeof n&&n;o||i.data("bs.button",o=new e(this,a)),"toggle"==n?o.toggle():n&&o.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(window.jQuery),+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,i=this.getActiveIndex();if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),o=n||i[e](),a=this.interval,s="next"==e?"left":"right",r="next"==e?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[r]()}this.sliding=!0,a&&this.pause();var d=t.Event("slide.bs.carousel",{relatedTarget:o[0],direction:s});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(d),d.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one(t.support.transition.end,function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(d),d.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n),s="string"==typeof n?n:a.slide;o||i.data("bs.carousel",o=new e(this,a)),"number"==typeof n?o.to(n):s?o[s]():a.interval&&o.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n=t(this),i,o=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},o.data(),n.data()),s=n.attr("data-slide-to");s&&(a.interval=!1),o.carousel(a),(s=n.attr("data-slide-to"))&&o.data("bs.carousel").to(s),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(window.jQuery),+function(t){function e(){t(i).remove(),t(o).each(function(e){var i=n(t(this));i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",o="[data-toggle=dropdown]",a=function(e){var n=t(e).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var a=n(o),s=a.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),a.trigger(i=t.Event("show.bs.dropdown")),i.isDefaultPrevented())return;a.toggleClass("open").trigger("shown.bs.dropdown"),o.focus()}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var a=n(i),s=a.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&a.find(o).focus(),i.click();var r=t("[role=menu] li:not(.divider):visible a",a);if(r.length){var l=r.index(r.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<r.length-1&&l++,~l||(l=0),r.eq(l).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu]",a.prototype.keydown)}(window.jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(o)}).emulateTransitionEnd(300):n.$element.focus().trigger(o)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]!==t.target&&!this.$element.has(t.target).length&&this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,i){return this.each(function(){var o=t(this),a=o.data("bs.modal"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n);a||o.data("bs.modal",a=new e(this,s)),"string"==typeof n?a[n](i):s.show&&a.show(i)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),o=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),n.data());e.preventDefault(),o.modal(a,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i);for(var o=this.options.trigger.split(" "),a=o.length;a--;){var s=o[a];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var r="hover"==s?"mouseenter":"focus",l="hover"==s?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,a=o.test(i);a&&(i=i.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),r=n[0].offsetWidth,l=n[0].offsetHeight;if(a){var d=this.$element.parent(),c=i,u=document.documentElement.scrollTop||document.body.scrollTop,h="body"==this.options.container?window.innerWidth:d.outerWidth(),p="body"==this.options.container?window.innerHeight:d.outerHeight(),f="body"==this.options.container?0:d.offset().left;i="bottom"==i&&s.top+s.height+l-u>p?"top":"top"==i&&s.top-u-l<0?"bottom":"right"==i&&s.right+r>h?"left":"left"==i&&s.left-r<f?"right":i,n.removeClass(c).addClass(i)}var m=this.getCalculatedOffset(i,s,r,l);this.applyPlacement(m,i),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var n,i=this.tip(),o=i[0].offsetWidth,a=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),r=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(r)&&(r=0),t.top=t.top+s,t.left=t.left+r,i.offset(t).addClass("in");var l=i[0].offsetWidth,d=i[0].offsetHeight;if("top"==e&&d!=a&&(n=!0,t.top=t.top+a-d),/bottom|top/.test(e)){var c=0;t.left<0&&(c=-2*t.left,t.left=0,i.offset(t),l=i[0].offsetWidth,d=i[0].offsetHeight),this.replaceArrow(c-o+l,l,"left")}else this.replaceArrow(d-a,d,"top");n&&i.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach()}var n=this,i=this.tip(),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),a="object"==typeof n&&n;o||i.data("bs.tooltip",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("bs.popover"),a="object"==typeof n&&n;o||i.data("bs.popover",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.attr("data-target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a")[0],a=t.Event("show.bs.tab",{relatedTarget:o});if(e.trigger(a),!a.isDefaultPrevented()){var s=t(i);this.activate(e.parent("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},e.prototype.activate=function(e,n,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),s=i&&t.support.transition&&a.hasClass("fade");s?a.one(t.support.transition.end,o).emulateTransitionEnd(150):o(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new e(this)),"string"==typeof n&&o[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),+function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),a=this.options.offset,s=a.top,r=a.bottom;"object"!=typeof a&&(r=s=a),"function"==typeof s&&(s=a.top()),"function"==typeof r&&(r=a.bottom());var l=null!=this.unpin&&i+this.unpin<=o.top?!1:null!=r&&o.top+this.$element.height()>=n-r?"bottom":null!=s&&s>=i?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?o.top-i:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-r-this.$element.height()}))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),o=i.data("bs.affix"),a="object"==typeof n&&n;o||i.data("bs.affix",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var s=t.camelCase(["scroll",o].join("-"));this.$element.one(t.support.transition.end,t.proxy(a,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(350):i.call(this)
}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.collapse",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n=t(this),i,o=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),a=t(o),s=a.data("bs.collapse"),r=s?"toggle":n.data(),l=n.attr("data-parent"),d=l&&t(l);s&&s.transitioning||(d&&d.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),a.collapse(r)})}(window.jQuery),+function(t){function e(n,i){var o,a=t.proxy(this.process,this);this.$element=t(t(n).is("body")?window:n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",a),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||(o=t(n).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var n=this,i=this.$body.find(this.selector).map(function(){var i=t(this),o=i.data("target")||i.attr("href"),a=/^#\w/.test(o)&&t(o);return a&&a.length&&[[a[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t=this.$scrollElement.scrollTop()+this.options.offset,e=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=e-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget,s;if(t>=n)return a!=(s=o.last()[0])&&this.activate(s);for(s=i.length;s--;)a!=o[s]&&t>=i[s]&&(!i[s+1]||t<=i[s+1])&&this.activate(o[s])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),a="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),+function(t){function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e()})}(window.jQuery),Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(t){for(var e=Date.CultureInfo.monthNames,n=Date.CultureInfo.abbreviatedMonthNames,i=t.toLowerCase(),o=0;o<e.length;o++)if(e[o].toLowerCase()==i||n[o].toLowerCase()==i)return o;return-1},Date.getDayNumberFromName=function(t){for(var e=Date.CultureInfo.dayNames,n=Date.CultureInfo.abbreviatedDayNames,i=Date.CultureInfo.shortestDayNames,o=t.toLowerCase(),a=0;a<e.length;a++)if(e[a].toLowerCase()==o||n[a].toLowerCase()==o)return a;return-1},Date.isLeapYear=function(t){return t%4===0&&t%100!==0||t%400===0},Date.getDaysInMonth=function(t,e){return[31,Date.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},Date.getTimezoneOffset=function(t,e){return e?Date.CultureInfo.abbreviatedTimeZoneDST[t.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[t.toUpperCase()]},Date.getTimezoneAbbreviation=function(t,e){var n=e?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,i;for(i in n)if(n[i]===t)return i;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(t){if(isNaN(this))throw new Error(this);if(t instanceof Date&&!isNaN(t))return this>t?1:t>this?-1:0;throw new TypeError(t)},Date.prototype.equals=function(t){return 0===this.compareTo(t)},Date.prototype.between=function(t,e){var n=this.getTime();return n>=t.getTime()&&n<=e.getTime()},Date.prototype.addMilliseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+t),this},Date.prototype.addSeconds=function(t){return this.addMilliseconds(1e3*t)},Date.prototype.addMinutes=function(t){return this.addMilliseconds(6e4*t)},Date.prototype.addHours=function(t){return this.addMilliseconds(36e5*t)},Date.prototype.addDays=function(t){return this.addMilliseconds(864e5*t)},Date.prototype.addWeeks=function(t){return this.addMilliseconds(6048e5*t)},Date.prototype.addMonths=function(t){var e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,this.getDaysInMonth())),this},Date.prototype.addYears=function(t){return this.addMonths(12*t)},Date.prototype.add=function(t){if("number"==typeof t)return this._orient=t,this;var e=t;return(e.millisecond||e.milliseconds)&&this.addMilliseconds(e.millisecond||e.milliseconds),(e.second||e.seconds)&&this.addSeconds(e.second||e.seconds),(e.minute||e.minutes)&&this.addMinutes(e.minute||e.minutes),(e.hour||e.hours)&&this.addHours(e.hour||e.hours),(e.month||e.months)&&this.addMonths(e.month||e.months),(e.year||e.years)&&this.addYears(e.year||e.years),(e.day||e.days)&&this.addDays(e.day||e.days),this},Date._validate=function(t,e,n,i){if("number"!=typeof t)throw new TypeError(t+" is not a Number.");if(e>t||t>n)throw new RangeError(t+" is not a valid value for "+i+".");return!0},Date.validateMillisecond=function(t){return Date._validate(t,0,999,"milliseconds")},Date.validateSecond=function(t){return Date._validate(t,0,59,"seconds")},Date.validateMinute=function(t){return Date._validate(t,0,59,"minutes")},Date.validateHour=function(t){return Date._validate(t,0,23,"hours")},Date.validateDay=function(t,e,n){return Date._validate(t,1,Date.getDaysInMonth(e,n),"days")},Date.validateMonth=function(t){return Date._validate(t,0,11,"months")},Date.validateYear=function(t){return Date._validate(t,1,9999,"seconds")},Date.prototype.set=function(t){var e=t;return e.millisecond||0===e.millisecond||(e.millisecond=-1),e.second||0===e.second||(e.second=-1),e.minute||0===e.minute||(e.minute=-1),e.hour||0===e.hour||(e.hour=-1),e.day||0===e.day||(e.day=-1),e.month||0===e.month||(e.month=-1),e.year||0===e.year||(e.year=-1),-1!=e.millisecond&&Date.validateMillisecond(e.millisecond)&&this.addMilliseconds(e.millisecond-this.getMilliseconds()),-1!=e.second&&Date.validateSecond(e.second)&&this.addSeconds(e.second-this.getSeconds()),-1!=e.minute&&Date.validateMinute(e.minute)&&this.addMinutes(e.minute-this.getMinutes()),-1!=e.hour&&Date.validateHour(e.hour)&&this.addHours(e.hour-this.getHours()),-1!==e.month&&Date.validateMonth(e.month)&&this.addMonths(e.month-this.getMonth()),-1!=e.year&&Date.validateYear(e.year)&&this.addYears(e.year-this.getFullYear()),-1!=e.day&&Date.validateDay(e.day,this.getFullYear(),this.getMonth())&&this.addDays(e.day-this.getDate()),e.timezone&&this.setTimezone(e.timezone),e.timezoneOffset&&this.setTimezoneOffset(e.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return t%4===0&&t%100!==0||t%400===0},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(t,e){var n=(t-this.getDay()+7*(e||1))%7;return this.addDays(0===n?n+=7*(e||1):n)},Date.prototype.moveToMonth=function(t,e){var n=(t-this.getMonth()+12*(e||1))%12;return this.addMonths(0===n?n+=12*(e||1):n)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(t){var e=this.getFullYear(),n=this.getMonth(),i=this.getDate(),o=t||Date.CultureInfo.firstDayOfWeek,a=8-new Date(e,0,1).getDay();8==a&&(a=1);var s=(Date.UTC(e,n,i,0,0,0)-Date.UTC(e,0,1,0,0,0))/864e5+1,r=Math.floor((s-a+7)/7);if(r===o){e--;var l=8-new Date(e,0,1).getDay();r=2==l||8==l?53:52}return r},Date.prototype.isDST=function(){return"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(t){var e=this.getTimezoneOffset(),n=-6*Number(t)/10;return this.addMinutes(n-e),this},Date.prototype.setTimezone=function(t){return this.setTimezoneOffset(Date.getTimezoneOffset(t))},Date.prototype.getUTCOffset=function(){var t=-10*this.getTimezoneOffset()/6,e;return 0>t?(e=(t-1e4).toString(),e[0]+e.substr(2)):(e=(t+1e4).toString(),"+"+e.substr(1))},Date.prototype.getDayName=function(t){return t?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(t){return t?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(t){var e=this,n=function i(t){return 1==t.toString().length?"0"+t:t};return t?t.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(t){switch(t){case"hh":return n(e.getHours()<13?e.getHours():e.getHours()-12);case"h":return e.getHours()<13?e.getHours():e.getHours()-12;case"HH":return n(e.getHours());case"H":return e.getHours();case"mm":return n(e.getMinutes());case"m":return e.getMinutes();case"ss":return n(e.getSeconds());case"s":return e.getSeconds();case"yyyy":return e.getFullYear();case"yy":return e.getFullYear().toString().substring(2,4);case"dddd":return e.getDayName();case"ddd":return e.getDayName(!0);case"dd":return n(e.getDate());case"d":return e.getDate().toString();case"MMMM":return e.getMonthName();case"MMM":return e.getMonthName(!0);case"MM":return n(e.getMonth()+1);case"M":return e.getMonth()+1;case"t":return e.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return e.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var t={};return t[this._dateElement]=this,Date.now().add(t)},Number.prototype.ago=function(){var t={};return t[this._dateElement]=-1*this,Date.now().add(t)},function(){for(var t=Date.prototype,e=Number.prototype,n="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),i="january february march april may june july august september october november december".split(/\s/),o="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),a,s=function(t){return function(){return this._is?(this._is=!1,this.getDay()==t):this.moveToDayOfWeek(t,this._orient)}},r=0;r<n.length;r++)t[n[r]]=t[n[r].substring(0,3)]=s(r);for(var l=function(t){return function(){return this._is?(this._is=!1,this.getMonth()===t):this.moveToMonth(t,this._orient)}},d=0;d<i.length;d++)t[i[d]]=t[i[d].substring(0,3)]=l(d);for(var c=function(t){return function(){return"s"!=t.substring(t.length-1)&&(t+="s"),this["add"+t](this._orient)}},u=function(t){return function(){return this._dateElement=t,this}},h=0;h<o.length;h++)a=o[h].toLowerCase(),t[a]=t[a+"s"]=c(o[h]),e[a]=e[a+"s"]=u(a)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(t){this.message="Parse error at '"+t.substring(0,10)+" ...'"}};for(var t=Date.Parsing,e=t.Operators={rtoken:function(e){return function(n){var i=n.match(e);if(i)return[i[0],n.substring(i[0].length)];throw new t.Exception(n)}},token:function(t){return function(t){return e.rtoken(new RegExp("^s*"+t+"s*"))(t)}},stoken:function(t){return e.rtoken(new RegExp("^"+t))},until:function(t){return function(e){for(var n=[],i=null;e.length;){try{i=t.call(this,e)}catch(o){n.push(i[0]),e=i[1];continue}break}return[n,e]}},many:function(t){return function(e){for(var n=[],i=null;e.length;){try{i=t.call(this,e)}catch(o){return[n,e]}n.push(i[0]),e=i[1]}return[n,e]}},optional:function(t){return function(e){var n=null;try{n=t.call(this,e)}catch(i){return[null,e]}return[n[0],n[1]]}},not:function(e){return function(n){try{e.call(this,n)}catch(i){return[null,n]}throw new t.Exception(n)}},ignore:function(t){return t?function(e){var n=null;return n=t.call(this,e),[null,n[1]]}:null},product:function(){for(var t=arguments[0],n=Array.prototype.slice.call(arguments,1),i=[],o=0;o<t.length;o++)i.push(e.each(t[o],n));return i},cache:function(e){var n={},i=null;return function(o){try{i=n[o]=n[o]||e.call(this,o)}catch(a){i=n[o]=a}if(i instanceof t.Exception)throw i;return i}},any:function(){var e=arguments;return function(n){for(var i=null,o=0;o<e.length;o++)if(null!=e[o]){try{i=e[o].call(this,n)}catch(a){i=null}if(i)return i}throw new t.Exception(n)}},each:function(){var e=arguments;return function(n){for(var i=[],o=null,a=0;a<e.length;a++)if(null!=e[a]){try{o=e[a].call(this,n)}catch(s){throw new t.Exception(n)}i.push(o[0]),n=o[1]}return[i,n]}},all:function(){var t=arguments,e=e;return e.each(e.optional(t))},sequence:function(n,i,o){return i=i||e.rtoken(/^\s*/),o=o||null,1==n.length?n[0]:function(e){for(var a=null,s=null,r=[],l=0;l<n.length;l++){try{a=n[l].call(this,e)}catch(d){break}r.push(a[0]);try{s=i.call(this,a[1])}catch(c){s=null;break}e=s[1]}if(!a)throw new t.Exception(e);if(s)throw new t.Exception(s[1]);if(o)try{a=o.call(this,a[1])}catch(u){throw new t.Exception(a[1])}return[r,a?a[1]:e]}},between:function(t,n,i){i=i||t;var o=e.each(e.ignore(t),n,e.ignore(i));return function(t){var e=o.call(this,t);return[[e[0][0],r[0][2]],e[1]]}},list:function(t,n,i){return n=n||e.rtoken(/^\s*/),i=i||null,t instanceof Array?e.each(e.product(t.slice(0,-1),e.ignore(n)),t.slice(-1),e.ignore(i)):e.each(e.many(e.each(t,e.ignore(n))),px,e.ignore(i))},set:function(n,i,o){return i=i||e.rtoken(/^\s*/),o=o||null,function(a){for(var s=null,r=null,l=null,d=null,c=[[],a],u=!1,h=0;h<n.length;h++){l=null,r=null,s=null,u=1==n.length;try{s=n[h].call(this,a)}catch(p){continue}if(d=[[s[0]],s[1]],s[1].length>0&&!u)try{l=i.call(this,s[1])}catch(f){u=!0}else u=!0;if(u||0!==l[1].length||(u=!0),!u){for(var m=[],g=0;g<n.length;g++)h!=g&&m.push(n[g]);r=e.set(m,i).call(this,l[1]),r[0].length>0&&(d[0]=d[0].concat(r[0]),d[1]=r[1])}if(d[1].length<c[1].length&&(c=d),0===c[1].length)break}if(0===c[0].length)return c;if(o){try{l=o.call(this,c[1])}catch(y){throw new t.Exception(c[1])}c[1]=l[1]}return c}},forward:function(t,e){return function(n){return t[e].call(this,n)}},replace:function(t,e){return function(n){var i=t.call(this,n);return[e,i[1]]}},process:function(t,e){return function(n){var i=t.call(this,n);return[e.call(this,i[0]),i[1]]}},min:function(e,n){return function(i){var o=n.call(this,i);if(o[0].length<e)throw new t.Exception(i);return o}}},n=function(t){return function(){var e=null,n=[];if(arguments.length>1?e=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(e=arguments[0]),!e)return t.apply(null,arguments);for(var i=0,o=e.shift();i<o.length;i++)return e.unshift(o[i]),n.push(t.apply(null,e)),e.shift(),n}},i="optional not ignore cache".split(/\s/),o=0;o<i.length;o++)e[i[o]]=n(e[i[o]]);for(var a=function(t){return function(){return arguments[0]instanceof Array?t.apply(null,arguments[0]):t.apply(null,arguments)}},s="each any all".split(/\s/),l=0;l<s.length;l++)e[s[l]]=a(e[s[l]])}(),function(){var t=function(e){for(var n=[],i=0;i<e.length;i++)e[i]instanceof Array?n=n.concat(t(e[i])):e[i]&&n.push(e[i]);return n};Date.Grammar={},Date.Translator={hour:function(t){return function(){this.hour=Number(t)}},minute:function(t){return function(){this.minute=Number(t)}},second:function(t){return function(){this.second=Number(t)}},meridian:function(t){return function(){this.meridian=t.slice(0,1).toLowerCase()}},timezone:function(t){return function(){var e=t.replace(/[^\d\+\-]/g,"");e.length?this.timezoneOffset=Number(e):this.timezone=t.toLowerCase()}},day:function(t){var e=t[0];return function(){this.day=Number(e.match(/\d+/)[0])}},month:function(t){return function(){this.month=3==t.length?Date.getMonthNumberFromName(t):Number(t)-1}},year:function(t){return function(){var e=Number(t);this.year=t.length>2?e:e+(e+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(t){return function(){switch(t){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(t){t=t instanceof Array?t:[t];var e=new Date;this.year=e.getFullYear(),this.month=e.getMonth(),this.day=1,this.hour=0,this.minute=0,this.second=0;for(var n=0;n<t.length;n++)t[n]&&t[n].call(this);if(this.hour="p"==this.meridian&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var i=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?i.set({timezone:this.timezone}):this.timezoneOffset&&i.set({timezoneOffset:this.timezoneOffset}),i},finish:function(e){if(e=e instanceof Array?t(e):[e],0===e.length)return null;for(var n=0;n<e.length;n++)"function"==typeof e[n]&&e[n].call(this);if(this.now)return new Date;var i=Date.today(),o=null,a=!(null==this.days&&!this.orient&&!this.operator);if(a){var s,r,l;return l="past"==this.orient||"subtract"==this.operator?-1:1,this.weekday&&(this.unit="day",s=Date.getDayNumberFromName(this.weekday)-i.getDay(),r=7,this.days=s?(s+l*r)%r:l*r),this.month&&(this.unit="month",s=this.month-i.getMonth(),r=12,this.months=s?(s+l*r)%r:l*r,this.month=null),this.unit||(this.unit="day"),(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*l),i.add(this)}return this.meridian&&this.hour&&(this.hour=this.hour<13&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=i.addDays(Date.getDayNumberFromName(this.weekday)-i.getDay()).getDate()),this.month&&!this.day&&(this.day=1),i.set(this)}};var e=Date.Parsing.Operators,n=Date.Grammar,i=Date.Translator,o;n.datePartDelimiter=e.rtoken(/^([\s\-\.\,\/\x27]+)/),n.timePartDelimiter=e.stoken(":"),n.whiteSpace=e.rtoken(/^\s*/),n.generalDelimiter=e.rtoken(/^(([\s\,]|at|on)+)/);var a={};n.ctoken=function(t){var n=a[t];if(!n){for(var i=Date.CultureInfo.regexPatterns,o=t.split(/\s+/),s=[],r=0;r<o.length;r++)s.push(e.replace(e.rtoken(i[o[r]]),o[r]));n=a[t]=e.any.apply(null,s)}return n},n.ctoken2=function(t){return e.rtoken(Date.CultureInfo.regexPatterns[t])},n.h=e.cache(e.process(e.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),i.hour)),n.hh=e.cache(e.process(e.rtoken(/^(0[0-9]|1[0-2])/),i.hour)),n.H=e.cache(e.process(e.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),i.hour)),n.HH=e.cache(e.process(e.rtoken(/^([0-1][0-9]|2[0-3])/),i.hour)),n.m=e.cache(e.process(e.rtoken(/^([0-5][0-9]|[0-9])/),i.minute)),n.mm=e.cache(e.process(e.rtoken(/^[0-5][0-9]/),i.minute)),n.s=e.cache(e.process(e.rtoken(/^([0-5][0-9]|[0-9])/),i.second)),n.ss=e.cache(e.process(e.rtoken(/^[0-5][0-9]/),i.second)),n.hms=e.cache(e.sequence([n.H,n.mm,n.ss],n.timePartDelimiter)),n.t=e.cache(e.process(n.ctoken2("shortMeridian"),i.meridian)),n.tt=e.cache(e.process(n.ctoken2("longMeridian"),i.meridian)),n.z=e.cache(e.process(e.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),i.timezone)),n.zz=e.cache(e.process(e.rtoken(/^(\+|\-)\s*\d\d\d\d/),i.timezone)),n.zzz=e.cache(e.process(n.ctoken2("timezone"),i.timezone)),n.timeSuffix=e.each(e.ignore(n.whiteSpace),e.set([n.tt,n.zzz])),n.time=e.each(e.optional(e.ignore(e.stoken("T"))),n.hms,n.timeSuffix),n.d=e.cache(e.process(e.each(e.rtoken(/^([0-2]\d|3[0-1]|\d)/),e.optional(n.ctoken2("ordinalSuffix"))),i.day)),n.dd=e.cache(e.process(e.each(e.rtoken(/^([0-2]\d|3[0-1])/),e.optional(n.ctoken2("ordinalSuffix"))),i.day)),n.ddd=n.dddd=e.cache(e.process(n.ctoken("sun mon tue wed thu fri sat"),function(t){return function(){this.weekday=t}})),n.M=e.cache(e.process(e.rtoken(/^(1[0-2]|0\d|\d)/),i.month)),n.MM=e.cache(e.process(e.rtoken(/^(1[0-2]|0\d)/),i.month)),n.MMM=n.MMMM=e.cache(e.process(n.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),i.month)),n.y=e.cache(e.process(e.rtoken(/^(\d\d?)/),i.year)),n.yy=e.cache(e.process(e.rtoken(/^(\d\d)/),i.year)),n.yyy=e.cache(e.process(e.rtoken(/^(\d\d?\d?\d?)/),i.year)),n.yyyy=e.cache(e.process(e.rtoken(/^(\d\d\d\d)/),i.year)),o=function(){return e.each(e.any.apply(null,arguments),e.not(n.ctoken2("timeContext")))},n.day=o(n.d,n.dd),n.month=o(n.M,n.MMM),n.year=o(n.yyyy,n.yy),n.orientation=e.process(n.ctoken("past future"),function(t){return function(){this.orient=t}}),n.operator=e.process(n.ctoken("add subtract"),function(t){return function(){this.operator=t}}),n.rday=e.process(n.ctoken("yesterday tomorrow today now"),i.rday),n.unit=e.process(n.ctoken("minute hour day week month year"),function(t){return function(){this.unit=t}}),n.value=e.process(e.rtoken(/^\d\d?(st|nd|rd|th)?/),function(t){return function(){this.value=t.replace(/\D/g,"")}}),n.expression=e.set([n.rday,n.operator,n.value,n.unit,n.orientation,n.ddd,n.MMM]),o=function(){return e.set(arguments,n.datePartDelimiter)},n.mdy=o(n.ddd,n.month,n.day,n.year),n.ymd=o(n.ddd,n.year,n.month,n.day),n.dmy=o(n.ddd,n.day,n.month,n.year),n.date=function(t){return(n[Date.CultureInfo.dateElementOrder]||n.mdy).call(this,t)},n.format=e.process(e.many(e.any(e.process(e.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(n[t])return n[t];throw Date.Parsing.Exception(t)}),e.process(e.rtoken(/^[^dMyhHmstz]+/),function(t){return e.ignore(e.stoken(t))}))),function(t){return e.process(e.each.apply(null,t),i.finishExact)});var s={},r=function(t){return s[t]=s[t]||n.format(t)[0]};n.formats=function(t){if(t instanceof Array){for(var n=[],i=0;i<t.length;i++)n.push(r(t[i]));return e.any.apply(null,n)}return r(t)},n._formats=n.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),n._start=e.process(e.set([n.date,n.time,n.expression],n.generalDelimiter,n.whiteSpace),i.finish),n.start=function(t){try{var e=n._formats.call({},t);if(0===e[1].length)return e}catch(i){}return n._start.call({},t)}}(),Date._parse=Date.parse,Date.parse=function(t){var e=null;if(!t)return null;try{e=Date.Grammar.start.call({},t)}catch(n){return null}return 0===e[1].length?e[0]:null},Date.getParseFunction=function(t){var e=Date.Grammar.formats(t);return function(t){var n=null;try{n=e.call({},t)}catch(i){return null}return 0===n[1].length?n[0]:null}},Date.parseExact=function(t,e){return Date.getParseFunction(e)(t)},function($){function t(){this._defaults={sites:[],icons:"icalendar.png",iconSize:16,target:"_blank",compact:!1,popup:!1,popupText:"Send to my calendar...",tipPrefix:"",echoUrl:"",echoField:"",start:null,end:null,title:"",summary:"",description:"",location:"",url:"",contact:"",recurrence:null,copyConfirm:"The event will be copied to your clipboard. Continue?",copySucceeded:"The event has been copied to your clipboard",copyFailed:"Failed to copy the event to the clipboard\n",copyFlash:"clipboard.swf",copyUnavailable:"The clipboard is unavailable, please copy the event details from below:\n"},this._sites={google:{display:"Google",icon:0,override:null,url:"http://www.google.com/calendar/event?action=TEMPLATE&amp;text={t}&amp;dates={s}/{e}&amp;details={d}&amp;location={l}&amp;sprop=website:{u}"},icalendar:{display:"Add To Calendar",icon:1,override:null,url:"echo"},outlook:{display:"Outlook",icon:2,override:null,url:"echo"},yahoo:{display:"Yahoo",icon:3,override:n,url:"http://calendar.yahoo.com/?v=60&amp;view=d&amp;type=20&amp;title={t}&amp;st={s}&amp;dur={p}&amp;desc={d}&amp;in_loc={l}&amp;url={u}&amp;rpat={r}"}}}function e(t,e){$.extend(t,e);for(var n in e)null==e[n]&&(t[n]=null);return t}function n(t,e){var n=function(t){return(10>t?"0":"")+t},i=e.end?(e.end.getTime()-e.start.getTime())/6e4:0;if(t.p=i?n(Math.floor(i/60))+""+n(i%60):"",t.r){var o=e.recurrence.by&&"day"==e.recurrence.by[0].type?e.recurrence.by[0].values.join("").toLowerCase():"",a={daily:"dy",weekly:"wk",monthly:"mh",yearly:"yr"}[e.recurrence.freq];t.r=o||a?n(e.recurrence.interval||1)+(o||a):""}}function i(t){var e=function(t){for(var e="";t.length>75;)e+=t.substr(0,75)+"\n",t=" "+t.substr(75);return e+=t};return"BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jquery.icalendar\nMETHOD:PUBLISH\nBEGIN:VEVENT\nUID:"+(new Date).getTime()+"@"+(window.location.href.replace(/^[^\/]*\/\/([^\/]*)\/.*$/,"$1")||"localhost")+"\nDTSTAMP:"+$.icalendar.formatDateTime(new Date)+"\n"+(t.url?e("URL:"+t.url)+"\n":"")+(t.contact?e("MAILTO:"+t.contact)+"\n":"")+e("TITLE:"+t.title)+"\nDTSTART:"+$.icalendar.formatDateTime(t.start)+"\nDTEND:"+$.icalendar.formatDateTime(t.end)+"\n"+(t.summary?e("SUMMARY:"+t.summary)+"\n":"")+(t.description?e("DESCRIPTION:"+t.description)+"\n":"")+(t.location?e("LOCATION:"+t.location)+"\n":"")+(t.recurrence?o(t.recurrence)+"\n":"")+"END:VEVENT\nEND:VCALENDAR"}function o(t){if(!t)return"";var e="";if(t.dates){e="RDATE;VALUE=DATE:",g(t.dates)||(t.dates=[t.dates]);for(var n=0;n<t.dates.length;n++)e+=(n>0?",":"")+$.icalendar.formatDate(t.dates[n])}else if(t.times){e="RDATE;VALUE=DATE-TIME:",g(t.times)||(t.times=[t.times]);for(var n=0;n<t.times.length;n++)e+=(n>0?",":"")+$.icalendar.formatDateTime(t.times[n])}else if(t.periods){e="RDATE;VALUE=PERIOD:",g(t.periods[0])||(t.periods=[t.periods]);for(var n=0;n<t.periods.length;n++)e+=(n>0?",":"")+$.icalendar.formatDateTime(t.periods[n][0])+"/"+(t.periods[n][1].constructor!=Date?t.periods[n][1]:$.icalendar.formatDateTime(t.periods[n][1]))}else if(e="RRULE:FREQ="+(t.freq||"daily").toUpperCase()+(t.interval?";INTERVAL="+t.interval:"")+(t.until?";UNTIL="+$.icalendar.formatDateTime(t.until):t.count?";COUNT="+t.count:"")+(null!=t.weekStart?";WKST="+["SU","MO","TU","WE","TH","FR","SA"][t.weekStart]:""),t.by){g(t.by)||(t.by=[t.by]);for(var n=0;n<t.by.length;n++)g(t.by[n].values)||(t.by[n].values=[t.by[n].values]),e+=";BY"+t.by[n].type.toUpperCase()+"="+t.by[n].values.join(",")}return e}function a(t,e){$("#"+v).remove();try{return $("body").append('<div id="'+v+'"><embed src="'+e+'" FlashVars="clipboard='+encodeURIComponent(t)+'" width="0" height="0" type="application/x-shockwave-flash"></embed></div>'),""}catch(n){return n}}function s(t){for(var e=t.replace(/\r\n/g,"\n").split("\n"),n=e.length-1;n>0;n--){var i=k.exec(e[n]);i&&(e[n-1]+=i[1],e[n]="")}return $.map(e,function(t,e){return t?t:null})}function r(t,e,n,i){if(e>=t.length||0!=t[e].indexOf("BEGIN:"))throw"Missing group start";var o={},a=t[e].substr(6);for(d(n,a.toLowerCase(),o),e++;e<t.length&&0!=t[e].indexOf("END:");){if(0==t[e].indexOf("BEGIN:"))e=r(t,e,o,i);else{var s=c(t[e]);d(o,s._name,s._simple?s._value:s)}e++}if("VTIMEZONE"==a){var u=P.exec(o.standard.tzoffsetto);u&&(i[o.tzid]=("-"==u[1]?-1:1)*(60*parseInt(u[2],10)+parseInt(u[3],10)))}else for(var h in o)l(o[h],i);if(t[e]!="END:"+a)throw"Missing group end "+a;return e}function l(t,e){if(t)if(t.tzid&&t._value){var n=e[t.tzid],i=function(t,e){t.setMinutes(t.getMinutes()-n),t._type=e};if(g(t._value))for(var o=0;o<t._value.length;o++)i(t._value[o],t.tzid);else t._value.start&&t._value.end?(i(t._value.start,t.tzid),i(t._value.end,t.tzid)):i(t._value,t.tzid)}else if(g(t))for(var o=0;o<t.length;o++)l(t[o],e)}function d(t,e,n){"string"==typeof n&&(n=n.replace(/\\n/g,"\n")),$.inArray(e,B)>-1&&(e+="_"),t[e]?((!g(t[e])||t["_"+e+"IsArray"])&&(t[e]=[t[e]]),t[e][t[e].length]=n,t["_"+e+"IsArray"]&&(t["_"+e+"IsArray"]=void 0)):(t[e]=n,g(n)&&(t["_"+e+"IsArray"]=!0))}function c(t){var e={},n=E.exec(t);if(!n)throw"Missing entry name: "+t;return e._name=n[1].toLowerCase(),e._value=h(n[3]),e._simple=!0,u(e,n[2]),e}function u(t,e){for(var n=S.exec(e);n;){for(var i=[],o=I.exec(n[2]);o;)i.push(h(o[1].replace(/^"(.*)"$/,"$1"))),o=I.exec(n[2]);
t[n[1].toLowerCase()]=i.length>1?i:i[0],t._simple=!1,n=S.exec(e)}}function h(t){var e=A.exec(t);return e?p(e):(e=N.exec(t))?{start:p(e),end:p(e.slice(7))}:(e=L.exec(t),e?p(e.concat([0,0,0,""])):t)}function p(t){var e=new Date(t[1],t[2]-1,t[3],t[4],t[5],t[6]);return e._type=t[7]?"UTC":"float",f(e)}function f(t){return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t}function m(t,e){e=e||0==e?e:1;var n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getTimezoneOffset()/-60),i=new Date(n.getFullYear(),0,4),o=i.getDay();if(i.setDate(4+e-o-(e>o?7:0)),i>n)return n.setDate(n.getDate()-3),m(n,e);if(n>new Date(n.getFullYear(),11,28)){var a=new Date(n.getFullYear()+1,0,4);if(o=a.getDay(),a.setDate(4+e-o-(e>o?7:0)),n>=a)return 1}return Math.floor((n-i)/(1e3*b[_].factor)/7)+1}function g(t){return t&&t.constructor==Array}var y="icalendar",v="icalendar-flash-copy",b=[{method:"Seconds",factor:1},{method:"Minutes",factor:60},{method:"Hours",factor:3600},{method:"Date",factor:86400},{method:"Month",factor:1},{method:"FullYear",factor:12},{method:"Date",factor:604800}],w=0,D=1,x=2,_=3,M=4,C=5,T=6;$.extend(t.prototype,{markerClassName:"hasICalendar",setDefaults:function(t){return e(this._defaults,t||{}),this},addSite:function(t,e,n,i,o){return this._sites[t]={display:e,icon:n,override:o,url:i},this},getSites:function(){return this._sites},_attachICalendar:function(t,e){t=$(t),t.hasClass(this.markerClassName)||(t.addClass(this.markerClassName),this._updateICalendar(t,e))},_changeICalendar:function(t,e){t=$(t),t.hasClass(this.markerClassName)&&this._updateICalendar(t,e)},_updateICalendar:function(t,n){n=e($.extend({},this._defaults,$.data(t[0],y)||{}),n),$.data(t[0],y,n);var i=n.sites||this._defaults.sites;0==i.length&&$.each(this._sites,function(t){i[i.length]=t});var a=function(e,i){var a={t:encodeURIComponent(n.title),d:encodeURIComponent(n.description),s:$.icalendar.formatDateTime(n.start),e:$.icalendar.formatDateTime(n.end),p:$.icalendar.calculateDuration(n.start,n.end),l:encodeURIComponent(n.location),u:encodeURIComponent(n.url),c:encodeURIComponent(n.contact),r:o(n.recurrence)};e.override&&e.override.apply(t,[a,n]);var s=e.url;$.each(a,function(t,e){var n=new RegExp("\\{"+t+"\\}","g");s=s.replace(n,e)});var s="echo"==e.url?"#":s,r=$("<span></span>"),l=$('<a href="'+s+'" title="'+n.tipPrefix+e.display+'"'+("echo"==e.url?"":' target="'+n._target+'"')+'style="color:#22f;"></a>');"echo"==e.url&&l.click(function(){setTimeout(function(){return $.icalendar._echo(t[0],i)},300)});var d="";return null!=e.icon&&(d+="number"==typeof e.icon?'<span style="background: transparent url('+n.icons+") no-repeat -"+e.icon*n.iconSize+"px 0px;"+($.browser.mozilla&&$.browser.version<"1.9"?" padding-left: "+n.iconSize+"px; padding-bottom: "+Math.max(0,n.iconSize/2-5)+"px;":"")+'"></span>':'<img src="'+e.icon+'"'+($.browser.mozilla&&$.browser.version<"1.9"||$.browser.msie&&$.browser.version<"7.0"?' style="vertical-align: bottom;"':$.browser.msie?' style="vertical-align: middle;"':$.browser.opera||$.browser.safari?' style="vertical-align: baseline;"':"")+"/>",d+=n.compact?"":"&#xa0;"),l.html(d+(n.compact?"":e.display)),r.append(l),r},s=$('<span class="icalendar_list'+(n.compact?" icalendar_compact":"")+'"></span>'),r=this._sites;$.each(i,function(t,e){s.append(a(r[e],e))}),t.empty().append(s),n.popup&&(s.before('<span class="icalendar_popup_text">'+n.popupText+"</span>").wrap('<div class="icalendar_popup"></div>'),t.click(function(){var t=$(this),e=t.offset();$(".icalendar_popup",t).css("left",e.left).css("top",e.top+t.outerHeight()).toggle()}))},_destroyICalendar:function(t){t=$(t),t.hasClass(this.markerClassName)&&(t.removeClass(this.markerClassName).empty(),$.removeData(t[0],y))},_echo:function(t,e){var n=$.data(t,y),o=i(n);if(n.echoUrl)window.location.href=n.echoUrl+"?content="+escape(o);else if(n.echoField)$(n.echoField).val(o);else if(n.copyFlash){if(confirm(n.copyConfirm)){var s="";alert((s=a(o,n.copyFlash))?n.copyFailed+s:n.copySucceeded)}}else alert(n.copyUnavailable+o);return!1},_ensureTwo:function(t){return(10>t?"0":"")+t},formatDate:function(t,e){return t?""+t.getFullYear()+this._ensureTwo(t.getMonth()+1)+this._ensureTwo(t.getDate()):""},formatDateTime:function(t,e){return t?e?""+t.getFullYear()+this._ensureTwo(t.getMonth()+1)+this._ensureTwo(t.getDate())+"T"+this._ensureTwo(t.getHours())+this._ensureTwo(t.getMinutes())+this._ensureTwo(t.getSeconds()):""+t.getUTCFullYear()+this._ensureTwo(t.getUTCMonth()+1)+this._ensureTwo(t.getUTCDate())+"T"+this._ensureTwo(t.getUTCHours())+this._ensureTwo(t.getUTCMinutes())+this._ensureTwo(t.getUTCSeconds())+"Z":""},calculateDuration:function(t,e){if(!t||!e)return"";var n=Math.abs(e.getTime()-t.getTime())/1e3,i=Math.floor(n/86400);n-=86400*i;var o=Math.floor(n/3600);n-=3600*o;var a=Math.floor(n/60);return n-=60*a,(t.getTime()>e.getTime()?"-":"")+"P"+(i>0?i+"D":"")+(o||a||n?"T"+o+"H":"")+(a||n?a+"M":"")+(n?n+"S":"")},addDuration:function(t,e){if(!e)return t;var n=new Date(t.getTime()),i=z.exec(e);if(!i)throw"Invalid duration";if(i[2]&&(i[3]||i[5]||i[6]||i[7]))throw"Invalid duration - week must be on its own";if(!i[4]&&(i[5]||i[6]||i[7]))throw"Invalid duration - missing time marker";var o="-"==i[1]?-1:1,a=function(t,e,i){t=parseInt(t),isNaN(t)||n["setUTC"+i](n["getUTC"+i]()+o*t*e)};return i[2]?a(i[2],7,"Date"):(a(i[3],1,"Date"),a(i[5],1,"Hours"),a(i[6],1,"Minutes"),a(i[7],1,"Seconds")),n},parse:function(t){var e={},n={},i=s(t);if(r(i,0,e,n),!e.vcalendar)throw"Invalid iCalendar data";return e.vcalendar},getWeekOfYear:function(t,e){return m(t,e)},_parseParams:function(t,e){return u(t,e)}}),$.fn.icalendar=function(t){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){"string"==typeof t?$.icalendar["_"+t+"ICalendar"].apply($.icalendar,[this].concat(e)):$.icalendar._attachICalendar(this,t||{})})},$.icalendar=new t;var k=/^\s(.*)$/,E=/^([A-Za-z0-9-]+)((?:;[A-Za-z0-9-]+=(?:"[^"]+"|[^";:,]+)(?:,(?:"[^"]+"|[^";:,]+))*)*):(.*)$/,S=/;([A-Za-z0-9-]+)=((?:"[^"]+"|[^";:,]+)(?:,(?:"[^"]+"|[^";:,]+))*)/g,I=/,?("[^"]+"|[^";:,]+)/g,L=/^(\d{4})(\d\d)(\d\d)$/,A=/^(\d{4})(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)(Z?)$/,N=/^(\d{4})(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)(Z?)\/(\d{4})(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)(Z?)$/,P=/^([+-])(\d\d)(\d\d)$/,z=/^([+-])?P(\d+W)?(\d+D)?(T)?(\d+H)?(\d+M)?(\d+S)?$/,B=["class"]}(jQuery),InfoBox.prototype=new google.maps.OverlayView,InfoBox.prototype.createInfoBoxDiv_=function(){var t,e=this,n=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},i=function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation_||n(t)};this.div_||(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(t=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-t.left-t.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),this.enableEventPropagation_||(this.eventListener1_=google.maps.event.addDomListener(this.div_,"mousedown",n),this.eventListener2_=google.maps.event.addDomListener(this.div_,"click",n),this.eventListener3_=google.maps.event.addDomListener(this.div_,"dblclick",n)),this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",i),google.maps.event.trigger(this,"domready"))},InfoBox.prototype.getCloseBoxImg_=function(){var t="";return""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},InfoBox.prototype.addClickHandler_=function(){var t;""!==this.closeBoxURL_?(t=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(t,"click",this.getCloseClickHandler_())):this.closeListener_=null},InfoBox.prototype.getCloseClickHandler_=function(){var t=this;return function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),t.close(),google.maps.event.trigger(t,"closeclick")}},InfoBox.prototype.panBox_=function(t){var e,n,i=0,o=0;if(!t&&(e=this.getMap(),e instanceof google.maps.Map)){e.getBounds().contains(this.position_)||e.setCenter(this.position_),n=e.getBounds();var a=e.getDiv(),s=a.offsetWidth,r=a.offsetHeight,l=this.pixelOffset_.width,d=this.pixelOffset_.height,c=this.div_.offsetWidth,u=this.div_.offsetHeight,h=this.infoBoxClearance_.width,p=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);if(f.x<-l+h?i=f.x+l-h:f.x+c+l+h>s&&(i=f.x+c+l+h-s),this.alignBottom_?f.y<-d+p+u?o=f.y+d-p-u:f.y+d+p>r&&(o=f.y+d+p-r):f.y<-d+p?o=f.y+d-p:f.y+u+d+p>r&&(o=f.y+u+d+p-r),0!==i||0!==o){var m=e.getCenter();e.panBy(i,o)}}},InfoBox.prototype.setBoxStyle_=function(){var t,e;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",e=this.boxStyle_;for(t in e)e.hasOwnProperty(t)&&(this.div_.style[t]=e[t]);"undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},InfoBox.prototype.getBoxWidths_=function(){var t,e={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(t=n.ownerDocument.defaultView.getComputedStyle(n,""),t&&(e.top=parseInt(t.borderTopWidth,10)||0,e.bottom=parseInt(t.borderBottomWidth,10)||0,e.left=parseInt(t.borderLeftWidth,10)||0,e.right=parseInt(t.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(e.top=parseInt(n.currentStyle.borderTopWidth,10)||0,e.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,e.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,e.right=parseInt(n.currentStyle.borderRightWidth,10)||0),e},InfoBox.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var t=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=t.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(t.y+this.pixelOffset_.height)+"px":this.div_.style.top=t.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},InfoBox.prototype.setOptions=function(t){"undefined"!=typeof t.boxClass&&(this.boxClass_=t.boxClass,this.setBoxStyle_()),"undefined"!=typeof t.boxStyle&&(this.boxStyle_=t.boxStyle,this.setBoxStyle_()),"undefined"!=typeof t.content&&this.setContent(t.content),"undefined"!=typeof t.disableAutoPan&&(this.disableAutoPan_=t.disableAutoPan),"undefined"!=typeof t.maxWidth&&(this.maxWidth_=t.maxWidth),"undefined"!=typeof t.pixelOffset&&(this.pixelOffset_=t.pixelOffset),"undefined"!=typeof t.position&&this.setPosition(t.position),"undefined"!=typeof t.zIndex&&this.setZIndex(t.zIndex),"undefined"!=typeof t.closeBoxMargin&&(this.closeBoxMargin_=t.closeBoxMargin),"undefined"!=typeof t.closeBoxURL&&(this.closeBoxURL_=t.closeBoxURL),"undefined"!=typeof t.infoBoxClearance&&(this.infoBoxClearance_=t.infoBoxClearance),"undefined"!=typeof t.isHidden&&(this.isHidden_=t.isHidden),"undefined"!=typeof t.enableEventPropagation&&(this.enableEventPropagation_=t.enableEventPropagation),this.div_&&this.draw()},InfoBox.prototype.setContent=function(t){this.content_=t,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px",this.div_.innerHTML=this.getCloseBoxImg_()+t),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},InfoBox.prototype.setPosition=function(t){this.position_=t,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},InfoBox.prototype.setZIndex=function(t){this.zIndex_=t,this.div_&&(this.div_.style.zIndex=t),google.maps.event.trigger(this,"zindex_changed")},InfoBox.prototype.getContent=function(){return this.content_},InfoBox.prototype.getPosition=function(){return this.position_},InfoBox.prototype.getZIndex=function(){return this.zIndex_},InfoBox.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},InfoBox.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},InfoBox.prototype.open=function(t,e){var n=this;e&&(this.position_=e.getPosition(),this.moveListener_=google.maps.event.addListener(e,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(t),this.visible=!0,this.div_&&this.panBox_()},InfoBox.prototype.close=function(){this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListener1_&&(google.maps.event.removeListener(this.eventListener1_),google.maps.event.removeListener(this.eventListener2_),google.maps.event.removeListener(this.eventListener3_),this.eventListener1_=null,this.eventListener2_=null,this.eventListener3_=null),this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null),this.visible=!1};var TkMap=function($){var t=function(t){var e="undefined"!=typeof t.lat?t.lat:null,n="undefined"!=typeof t.lng?t.lng:null,i="undefined"!=typeof t.domid?t.domid:null,o="undefined"!=typeof t.zoom?t.zoom:15,a="undefined"!=typeof t.init?t.init:!1,s="undefined"!=typeof t.responsive?t.responsive:!1,r="undefined"!=typeof t.styles?t.styles:null,l={center:new google.maps.LatLng(e,n),draggable:!0,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,streetViewControl:!1,styles:[],zoom:o,zoomControl:!0},d=!1,c=null,u=null;this.Map=null;var h=function(t){d=!0,c=t.touches[0].pageY},p=function(){d=!1},f=function(t){d&&(u=t.touches[0].pageY,window.scrollBy(0,c-u))},m=function(){var t=r.split(" ");for(var e in t)"satellite"===t[e]?l.mapTypeId=google.maps.MapTypeId.SATELLITE:"hybrid"===t[e]?l.mapTypeId=google.maps.MapTypeId.HYBRID:"road"===t[e]?l.mapTypeId=google.maps.MapTypeId.ROADMAP:"terrain"===t[e]?l.mapTypeId=google.maps.MapTypeId.TERRAIN:"minlabels"===t[e]?l.styles.push({featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]}):"grey"===t[e]&&(l.backgroundColor="#C5C5C5",l.styles.push({stylers:[{saturation:-87}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{lightness:85}]},{featureType:"water",stylers:[{lightness:-20}]}))},g=function(){var t=$("#"+i).width();481>t?l.zoom--:t>959&&l.zoom++};this.initMap=function(){null===this.Map&&(null!==r&&m(),s&&g(),this.Map=new google.maps.Map(document.getElementById(i),l))},this.setMapOptions=function(t){null!==this.Map&&$.extend(l,t)},this.setTouchScroll=function(t){var e=document.getElementById(i);t?(e.addEventListener("touchstart",h,!0),e.addEventListener("touchend",p,!0),e.addEventListener("touchmove",f,!0),this.Map.setOptions({zoomControl:!1})):(e.removeEventListener("touchstart",h,!0),e.removeEventListener("touchend",p,!0),e.removeEventListener("touchmove",f,!0),this.Map.setOptions({zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}}))},this.setPanZoom=function(t){var e;e=t?!1:!0,this.Map.setOptions({disableDoubleClickZoom:e,draggable:t,keyboardShortcuts:t,scrollwheel:t,zoomControl:t})},a===!0&&this.initMap()};return t}(jQuery),FusionTable=function(){var t=function(t,e,n){this.columns=null,this.rows=null,this.url=t+"?sql="+encodeURIComponent(e)+"&key="+n+"&callback=?"};return t}(),Event=function($){var t=function(){this.data={},this.latlng=null,this.marker=null,this.infobox=null,this.infoboxtext=null,this.isPhone=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.toLowerCase().indexOf("android")>-1||navigator.userAgent.toLowerCase().indexOf("blackberry")>-1||navigator.userAgent.match(/iemobile/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1,this.toggleInfoBox=function(t,e){return function(){if(e.infobox.visible)e.infobox.close(t,e.marker);else{if(e.infoboxtext='<div class="infoBox" style="border:2px solid rgb(16,16,16); margin-top:8px; background:#ddd; padding:5px; font-family:Helvetica Neue,Helvetica,Arial,sans-serif">',""!==e.data.url&&(e.infoboxtext+='<a href="'+e.data.url+'" target="_blank" style="color:#22f">More Information</a>'),""!==e.data.url&&e.data.begin_date===e.data.end_date&&(e.infoboxtext+=" | "),e.data.begin_date===e.data.end_date&&(e.infoboxtext+='<span id="ical-'+e.data.id+'" class="ical"></span>'),e.infoboxtext+='<br><span style="font-size:133%">'+e.data.facility_name+"</span>",e.data.begin_date===e.data.end_date&&(e.infoboxtext+="<br>"+e.data.recurrence_days),e.data.begin_date===e.data.end_date&&(e.infoboxtext+="<br>"+e.data.begin_date),e.infoboxtext+=e.data.begin_date===e.data.end_date?"<br>"+Date.parse(e.data.begin_time).toString("h:mm tt").toLowerCase()+" - "+Date.parse(e.data.end_time).toString("h:mm tt").toLowerCase():"<br>"+e.data.hours,e.infoboxtext+="<br>Cost: "+e.data.cost,e.infoboxtext+="<br>"+e.data.street1,""!==e.data.street2&&(e.infoboxtext+="<br>"+e.data.street2),e.infoboxtext+="<br>"+e.data.city+", "+e.data.state+" "+e.data.postal_code,""!==e.data.contact&&(e.infoboxtext+="<br>Contact: "+e.data.contact),""!==e.data.phone)if(e.isPhone===!1)e.infoboxtext+="<br>"+e.data.phone;else{var n=String(e.data.phone).replace(/[^0-9]/g,"");e.infoboxtext+='<br><a href="tel:+1'+n.slice(-10)+'" style="color:#22f">&#x260E; <u>'+n.slice(-10,-7)+"-"+n.slice(-7,-4)+"-"+n.slice(-4)+"</u></a>"}e.infoboxtext+='<br><a class="directions" href="http://www.google.com/maps?',""!==$("#nav-address").val()&&(e.infoboxtext+="saddr="+$("#nav-address").val()+" Chicago, IL&"),e.infoboxtext+="daddr="+e.data.street1+" "+e.data.city+", "+e.data.state+" "+e.data.postal_code+'" target="_blank" style="color:#22f">Get Directions</a>',e.infoboxtext+="</div>",e.infobox.setContent(e.infoboxtext),e.infobox.open(t,e.marker),_gaq.push(["_trackEvent","Open InfoBox","Event",e.data.facility_name+" | "+e.data.street1])}}},this.closeInfoBox=function(t,e,n){n.visible&&n.close(t,e)}};return t}(jQuery),Flushots=function($){var t=function(t){this.AddressMarker=null,this.now=Date.parse("now"),this.Events=[],this.geolocate=navigator.geolocation,this.setIcal=function(t){return function(){$("#ical-"+t.data.id).icalendar({start:new Date(Date._parse(t.data.begin_date+" "+t.data.begin_time)),end:new Date(Date._parse(t.data.begin_date+" "+t.data.end_time)),title:"Flu Shot Event",summary:"Flu Shot Event",description:"Please remember to bring your immunization/shot records with you.",location:t.data.facility_name+" - "+t.data.street1+" - "+t.data.city+" "+t.data.state+" "+t.data.postal_code,iconSize:16,sites:["icalendar"],echoUrl:"//flushots.smartchicagoapps.org/ical.php"})}},this.getEvents=function(e,n,i){for(var o in n){this.Events[o]=new Event;for(var a in e){var s=e[a];this.Events[o].data[s]=n[o][a]}this.Events[o].latlng=new google.maps.LatLng(this.Events[o].data.latitude,this.Events[o].data.longitude);var r="img/red.png";$.trim(this.Events[o].data.cost.toLowerCase()).search(/no cost/)>-1&&$.trim(this.Events[o].data.cost.toLowerCase()).length>0&&(r="img/blue.png"),this.Events[o].marker=new google.maps.Marker({position:this.Events[o].latlng,map:i.Map,icon:r,shadow:"img/shadow.png",clickable:!0}),this.Events[o].infobox=new InfoBox(t)}for(var o in this.Events)google.maps.event.addListener(this.Events[o].marker,"click",this.Events[o].toggleInfoBox(i.Map,this.Events[o])),this.Events[o].data.begin_date===this.Events[o].data.end_date&&google.maps.event.addListener(this.Events[o].infobox,"domready",this.setIcal(this.Events[o]))},this.codeLatLng=function(t){var e=new google.maps.Geocoder;e.geocode({latLng:t},function(t,e){if(e==google.maps.GeocoderStatus.OK)if(t[0]){var n=t[0].formatted_address.split(",");$("#nav-address").val(n[0]);var i=$.trim($("#nav-address").val()).split(" ");if(null!==i[0].match(/^[0-9]+$/)){var o=i[0].substr(0,i[0].length-2)+"00";i[0]="00"!==o?o:"0"}var a=i.join(" ");_gaq.push(["_trackEvent","Find Me","Address",a])}else alert("We're sorry. We could not find an address for this location.");else alert("We're sorry. We could not find an address for this location.")})},this.setFindMeControl=function(t,e,n,i){t.style.padding="1em";var o=document.createElement("div");o.style.backgroundColor="#333",o.style.borderStyle="solid",o.style.borderWidth="0px",o.style.cursor="pointer",o.style.textAlign="center",o.style.borderRadius="6px",o.title="Click to find your location.",t.appendChild(o);var a=document.createElement("div");a.style.fontFamily='"Helvetica Neue",Helvetica,Arial,sans-serif',a.style.fontSize="12px",a.style.color="#fff",a.style.paddingLeft=".5em",a.style.paddingRight=".5em",a.style.paddingTop=".3em",a.style.paddingBottom=".3em",a.innerHTML="Find Me",o.appendChild(a),google.maps.event.addDomListener(o,"click",function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var o=new google.maps.LatLng(t.coords.latitude,t.coords.longitude);e.Map.setCenter(o),e.Map.setZoom(i.zoomaddress),null===n.AddressMarker?n.AddressMarker=new google.maps.Marker({position:o,map:e.Map,icon:i.iconlocation,clickable:!1}):(n.AddressMarker.setPosition(o),null===n.AddressMarker.getMap()&&n.AddressMarker.setMap(e.Map)),n.codeLatLng(o)},function(){alert("We're sorry. We could not find you. Please type in an address.")},{timeout:5e3,enableHighAccuracy:!0})})},this.setMapLegend=function(t,e,n,i){t.style.padding="1em";var o=document.createElement("div");o.style.backgroundColor="rgb(255,255,255)",o.style.borderStyle="solid",o.style.borderWidth="0px",o.style.cursor="pointer",o.style.textAlign="center",o.style.borderRadius="6px",o.title="Click to hide.",t.appendChild(o);var a=document.createElement("div");a.style.fontFamily='"Helvetica Neue",Helvetica,Arial,sans-serif',a.style.fontSize="12px",a.style.color="#333",a.style.paddingLeft=".5em",a.style.paddingRight=".5em",a.style.paddingTop=".3em",a.style.paddingBottom=".3em",a.innerHTML='<div><a data-toggle="modal" href="#modal-fee">No Cost To You</a><img src="img/blue.png" /></div>',o.appendChild(a)},this.setMarkersByDay=function(t){for(var e in this.Events){var n=this.Events[e].data.recurrence_days.split(","),i=!1;for(var o in n)("all"===$.trim(t.toLowerCase())||"today"===$.trim(t.toLowerCase())&&Date.getDayNumberFromName(this.now.toString("dddd"))===Date.getDayNumberFromName($.trim(n[o]))||Date.getDayNumberFromName(t)===Date.getDayNumberFromName($.trim(n[o])))&&(i=!0);this.Events[e].marker.setIcon(i===!0&&("today"!==$.trim(t.toLowerCase())||parseInt(this.now.toString("yyyyMMdd"),10)>=parseInt(Date.parse(this.Events[e].data.begin_date).toString("yyyyMMdd"),10))&&parseInt(this.now.toString("yyyyMMdd"),10)<=parseInt(Date.parse(this.Events[e].data.end_date).toString("yyyyMMdd"),10)?$.trim(this.Events[e].data.cost.toLowerCase()).search(/no cost/)>-1&&$.trim(this.Events[e].data.cost.toLowerCase()).length>0?"img/blue.png":"img/red.png":"seven"===$.trim(t.toLowerCase())&&i===!1&&(parseInt(Date.parse(this.Events[e].data.end_date).toString("yyyyMMdd"),10)>=parseInt(Date.today().toString("yyyyMMdd"),10)&&parseInt(Date.parse(this.Events[e].data.end_date).toString("yyyyMMdd"),10)<=parseInt(Date.today().add({days:6}).toString("yyyyMMdd"),10)||parseInt(Date.parse(this.Events[e].data.begin_date).toString("yyyyMMdd"),10)<=parseInt(Date.today().toString("yyyyMMdd"),10)&&parseInt(Date.parse(this.Events[e].data.end_date).toString("yyyyMMdd"),10)>=parseInt(Date.today().toString("yyyyMMdd"),10)||parseInt(Date.parse(this.Events[e].data.begin_date).toString("yyyyMMdd"),10)<=parseInt(Date.today().add({days:6}).toString("yyyyMMdd"),10)&&parseInt(Date.parse(this.Events[e].data.end_date).toString("yyyyMMdd"),10)>=parseInt(Date.today().add({days:6}).toString("yyyyMMdd"),10))?$.trim(this.Events[e].data.cost.toLowerCase()).search(/no cost/)>-1&&$.trim(this.Events[e].data.cost.toLowerCase()).length>0?"img/blue.png":"img/red.png":"img/grey-transparent.png")}}};return t}(jQuery);!function($,t,e,n){var o={city:"Chicago",domid:"map",eventquery:"SELECT * FROM 1leqPq9hrsGhnE8NoT00YZn1ITTzhK6BhrF8LNL4",fturl:"https://www.googleapis.com/fusiontables/v1/query",googlemapsapikey:"AIzaSyDRVus9kkg8mr6M7EZUmXZsdoM7JSFbvC8",iconfee:"/img/red.png",iconfree:"/img/blue.png",iconlocation:"/img/yellow-dot.png",infoboxoptions:{disableAutoPan:!1,maxWidth:0,pixelOffset:new google.maps.Size(-121,0),zIndex:null,boxStyle:{background:"url('img/tipbox.gif') no-repeat",opacity:.92,width:"240px"},closeBoxMargin:"11px 4px 4px 4px",closeBoxURL:"img/close_x.png",infoBoxClearance:new google.maps.Size(25,60),visible:!1,pane:"floatPane",enableEventPropagation:!1},lat:41.875,lng:-87.6425,state:"Illinois",styles:"grey minlabels",zoom:12,zoomaddress:14};$(function(){var a=new t({domid:o.domid,init:!0,lat:o.lat,lng:o.lng,styles:o.styles,zoom:o.zoom}),s=new n(o.infoboxoptions),r=document.createElement("div");if(s.setMapLegend(r,a,s,o),r.index=1,a.Map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(r),s.geolocate){var l=document.createElement("div");s.setFindMeControl(l,a,s,o),l.index=1,a.Map.controls[google.maps.ControlPosition.TOP_RIGHT].push(l)}var d=new e(o.fturl,o.eventquery,o.googlemapsapikey);$.getJSON(d.url,{dataType:"jsonp",timeout:5e3}).done(function(t){d.columns=t.columns,d.rows=t.rows,s.getEvents(d.columns,d.rows,a),s.setMarkersByDay("all")}).fail(function(){alert("Oh, no! We are having trouble getting the information we need from storage.")}),$("#nav-all").click(function(){$("#nav-li-days,#nav-li-seven,.day-btn").removeClass("active"),$("#nav-li-all").addClass("active"),$("#nav-days-text").text("On A Day"),$("#navbar-button").is(":visible")&&$("#navbar-button").click(),s.setMarkersByDay("all")}),$("#nav-seven").click(function(){$("#nav-li-days,#nav-li-all,.day-btn").removeClass("active"),$("#nav-li-seven").addClass("active"),$("#nav-days-text").text("On A Day"),$("#navbar-button").is(":visible")&&$("#navbar-button").click(),s.setMarkersByDay("seven")}),$(".day").click(function(){$("#nav-li-all,#nav-li-seven").removeClass("active"),$("#nav-li-days").addClass("active"),$("#nav-days-text").text($(this).text()),$("#navbar-button").is(":visible")&&$("#navbar-button").click(),s.setMarkersByDay($(this).text())}),$("#nav-address").change(function(){0===$(this).val().length&&null!==s.AddressMarker&&s.AddressMarker.setMap(null)}),$("#nav-go").click(function(){if($("#nav-address").blur(),$("#nav-address").val().length>0){var t=new google.maps.Geocoder;t.geocode({address:$("#nav-address").val()+", "+o.city+", "+o.state},function(t,e){if(e==google.maps.GeocoderStatus.OK)if(t[0]){a.Map.panTo(t[0].geometry.location),a.Map.setZoom(o.zoomaddress),null===s.AddressMarker?s.AddressMarker=new google.maps.Marker({position:t[0].geometry.location,map:a.Map,icon:o.iconlocation,clickable:!1}):(s.AddressMarker.setPosition(t[0].geometry.location),null===s.AddressMarker.getMap()&&s.AddressMarker.setMap(a.Map)),$("#navbar-button").is(":visible")&&$("#navbar-button").click();var n=$.trim($("#nav-address").val()).split(" ");if(null!==n[0].match(/^[0-9]+$/)){var i=n[0].substr(0,n[0].length-2)+"00";n[0]="00"!==i?i:"0"}var r=n.join(" ");_gaq.push(["_trackEvent","Go Button","Address",r])}else alert("Sorry! We couldn't find that address.");else alert("Sorry! We couldn't find that address.")})}else alert("Please enter a "+o.city+' street address in the box next to the "Go" button in the bottom navigation bar.')}),$("body").on("click",".directions",function(){var t="http://www.google.com/maps?";""!==$("#nav-address").val()&&(t+="saddr="+$("#nav-address").val()+" "+o.city+", "+o.state+"&"),t+="daddr="+this.Events[i].data.street1+" "+this.Events[i].data.city+", "+this.Events[i].data.state+" "+this.Events[i].data.postal_code,window.open(t)})})}(jQuery,TkMap,FusionTable,Flushots);